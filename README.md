# demo-app

## Promts for generate kubernetes manifests  

| NAME                         | PROMPT                                                                                                                                                                                                                                                                                                                  | DESCRIPTION                                                                                                               | EXAMPLE                                                   |
|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|
| Application                  | create pod with ns demo, name app, labels app=demo run=demo, image gcr.io/k8s-k3s/demo:v1.0.0 on http port 8000                                                                                                                                                                                                         | create simple application based on docker image gcr.io/k8s-k3s/demo:v1.0.0                                                | [app.yaml](./yaml/app.yaml)                               |
| Liveness probe               | create pod with liveliness probe on http port 8000, ns demo, name app-livenessprob, image gcr.io/k8s-k3s/demo:v1.0.0 on http port 8000, timeoutSeconds 1                                                                                                                                                                | create simple application with liveliness prob requesting http get 8000                                                   | [app-livenessProbe.yaml](./yaml/app-livenessProbe.yaml)   |
| Readiness probe              | create pod with readiness liveliness on http port 8000, ns demo, name app-readinessprob, image gcr.io/k8s-k3s/demo:v1.0.0 on http port 8000, timeout:livness minimal readiness less the livness, path: readiness '/ready' livness '/'                                                                                   | create pod with liveliness and readiness probs requesting http get 8000 with different path                               | [app-readinessProbe.yaml](./yaml/app-readinessProbe.yaml) |
| Mount volume                 | create pod with readiness liveliness on http port 8000, ns demo, name app-readinessprob, image gcr.io/k8s-k3s/demo:v1.0.0 on http port 8000, timeout:livness minimal readiness less the livness, path: readiness '/ready' livness '/'. Mount volum name data path'/data' host path '/var/lib/app'                       | create pod with liveliness and readiness probs requesting http get 8000 with different path. Mount volume inside          | [app-volumeMounts.yaml](./yaml/app-volumeMounts.yaml)     |
| Cron job                     | create cron job every 5 min, name app-cronjob, container img bash name hello command '["echo",  "Hello world"]', restart on fail                                                                                                                                                                                        | create cron job which every 5 min printing hello world message                                                            | [app-cronjob.yaml](./yaml/app-cronjob.yaml)               |
| Job                          | create job name app-job-rsync, template backofflimit 0, volume name=data-input gcePersistentDisk: fsType= ext4 name=glow-data-disk-200, container name=init image=google/cloud-sdk:275.0.0-alpine command= - /bin/sh - -c - gsutil -m rsync -dr gs://glow-sportradar/ /data/input mount path=/data/input, restart never | create job for sync gcloud file system with local file system                                                             | [app-job.yaml](./yaml/app-job.yaml)                       |
| Multicontainer               | create multi container pod name=app-multi-containers, volumes name=html empty dir, containers: name 1st image nginx, mount '/usr/share/nginx/html', name 2nd image debian mount '/html' command '["/bin/sh", "-c"]' args - while true; dodate >> /html/index.html;sleep 1;done                                          | create multi containers pod with 2 containers nginx and debian                                                            | [app-multicontainer.yaml](./yaml/app-multicontainer.yaml) |
| Pod L/V probe with resources | create pod with readiness liveliness on http port 8000, ns demo, name app-resource, image gcr.io/kuar-demo/kuard-amd64:1 on http port 8080, timeout:livness minimal readiness less the livness, path: readiness '/ready' livness '/healthy', resources requests cpu 100 memory 128 limits 100m 256                      | create pod with liveliness and readiness probs requesting http get 8000 with different path. With machine resources limit | [app-resources.yaml](./yaml/app-resources.yaml)           |
| Pod with secrets             | create pod with env secrets name app-secret-env, container mycontainer image redis, env SECRET_USERNAME secretKeyRef name mysecret1 key username SECRET_PASSWORD name mysecret1 key password, restart never                                                                                                             | create pod with secrets in env variables                                                                                  | [app-secret-env.yaml](./yaml/app-secret-env.yaml)         |